<div class="overlay-container" *ngIf="visible" (click)="closeOverlay()">
  <!-- Backdrop with blur effect -->
  <div class="overlay-backdrop"></div>
  
  <!-- Highlight box around the focused element -->
  <div 
    class="highlight-box" 
    *ngIf="position"
    [ngStyle]="highlightStyle"
    (click)="$event.stopPropagation()"
  >
    <!-- Pulsing ring animation around the field -->
    <div class="highlight-pulse"></div>
  </div>
  
  <!-- Tooltip with help text -->
  <div 
    class="tooltip-container" 
    *ngIf="position && position.helpText"
    [ngStyle]="tooltipStyle"
    (click)="$event.stopPropagation()"
  >
    <div class="tooltip-arrow"></div>
    <div class="tooltip-content">
      <svg class="tooltip-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M12 16v-4"></path>
        <path d="M12 8h.01"></path>
      </svg>
      <p>{{ position.helpText }}</p>
    </div>
  </div>
  
  <!-- Close button -->
  <button class="close-button" (click)="closeOverlay()" aria-label="Chiudi guida">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
    <span>Chiudi Guida (ESC)</span>
  </button>
</div>
